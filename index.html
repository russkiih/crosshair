<!DOCTYPE html>
<html>
<head>
  <title>DayZ Crosshair</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
    }
    .crosshair {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 64px;
      height: 64px;
    }
    .crosshair-dot {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgb(255, 255, 255);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }
    .crosshair-cross {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }
    .crosshair-cross-h, .crosshair-cross-v {
      position: absolute;
      background: rgb(255, 255, 255);
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }
    .crosshair-cross-h {
      height: 2px;
      width: 16px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .crosshair-cross-v {
      width: 2px;
      height: 16px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .crosshair-circle {
      display: none;
      position: absolute;
      width: 12px;
      height: 12px;
      border: 2px solid rgb(255, 255, 255);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <div class="crosshair">
    <div class="crosshair-dot"></div>
    <div class="crosshair-cross">
      <div class="crosshair-cross-h"></div>
      <div class="crosshair-cross-v"></div>
    </div>
    <div class="crosshair-circle"></div>
  </div>

  <script>
    const { ipcRenderer } = require('electron');

    // Elements
    const crosshairDot = document.querySelector('.crosshair-dot');
    const crosshairCross = document.querySelector('.crosshair-cross');
    const crosshairCircle = document.querySelector('.crosshair-circle');
    const crosshairCrossH = document.querySelector('.crosshair-cross-h');
    const crosshairCrossV = document.querySelector('.crosshair-cross-v');

    // Update crosshair based on settings
    function updateCrosshair(settings) {
      const opacity = (settings.opacity ?? 100) / 100;
      const r = parseInt(settings.color.slice(1, 3), 16);
      const g = parseInt(settings.color.slice(3, 5), 16);
      const b = parseInt(settings.color.slice(5, 7), 16);
      const rgba = `rgba(${r}, ${g}, ${b}, ${opacity})`;

      // Update color with opacity
      crosshairDot.style.background = rgba;
      crosshairCrossH.style.background = rgba;
      crosshairCrossV.style.background = rgba;
      crosshairCircle.style.borderColor = rgba;
      
      // Update size for all styles
      crosshairDot.style.width = `${settings.size}px`;
      crosshairDot.style.height = `${settings.size}px`;
      
      // Update cross size with thickness
      crosshairCrossH.style.height = `${settings.thickness || 2}px`; 
      crosshairCrossH.style.width = `${settings.size * 4}px`;
      crosshairCrossV.style.width = `${settings.thickness || 2}px`;
      crosshairCrossV.style.height = `${settings.size * 4}px`;
      
      // Update circle size with thickness for border
      crosshairCircle.style.width = `${settings.size * 3}px`;
      crosshairCircle.style.height = `${settings.size * 3}px`;
      crosshairCircle.style.borderWidth = `${settings.thickness || 1}px`;
      
      // Update style
      crosshairDot.style.display = 'none';
      crosshairCross.style.display = 'none';
      crosshairCircle.style.display = 'none';
      
      switch (settings.style) {
        case 'dot':
          crosshairDot.style.display = 'block';
          break;
        case 'cross':
          crosshairCross.style.display = 'block';
          break;
        case 'circle':
          crosshairCircle.style.display = 'block';
          break;
        case 'dot_cross':
          crosshairDot.style.display = 'block';
          crosshairCross.style.display = 'block';
          break;
        case 'dot_circle':
          // For dot+circle, keep dot size fixed and only adjust circle
          crosshairDot.style.width = '4px';
          crosshairDot.style.height = '4px';
          crosshairDot.style.display = 'block';
          crosshairCircle.style.display = 'block';
          // Use thickness setting for border in dot+circle too
          crosshairCircle.style.borderWidth = `${Math.min(2, settings.thickness || 1)}px`;
          break;
        default:
          crosshairDot.style.display = 'block';
          break;
      }
    }

    // Listen for settings updates from main process
    ipcRenderer.on('update-crosshair', (event, settings) => {
      updateCrosshair(settings);
    });
  </script>
</body>
</html> 